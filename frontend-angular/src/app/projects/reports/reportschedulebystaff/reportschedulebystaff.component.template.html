<glowmessages #glowmessage></glowmessages>

<div class="menuContainer">
  <menu></menu>
</div>

<jqxLoader
  #loaderReference
  [width]="140"
  [height]="140"
  [isModal]="true"
  [theme]="'bootstrap'"
  [html]="'<div class=\'loadingdiv\'><div class=\'loader\'></div></div>'"
  [imagePosition]='"top"'
></jqxLoader>

<div class="appContainer">
  <div class="auxMenuBar">
    <div class="titleHeaderSpace">
      {{'report_title' | translate}} - {{'report_name_2' | translate}}
    </div>

    <div class="blockMinRight">
      <i
        class="icon ion-ios-search"
        style="color: var(--first-color); float: left; margin-top: 5px;"
      ></i>

      <jqxButton
        #lessZoom
        [width]='"25px"'
        [height]='"27px"'
        style="float: left; margin-left: 4px;"
        (onClick)="LessZoom($event)"
        [theme]='"metro"'
      >
        <i class="icon ion-ios-remove" style="color: var(--first-color);"></i>
      </jqxButton>

      <jqxButton
        #moreZoom
        [width]='"25px"'
        [height]='"27px"'
        (onClick)="MoreZoom($event)"
        style="float: left; margin-left: 4px;"
        [theme]='"metro"'
      >
        <i class="icon ion-ios-add" style="color: var(--first-color);"></i>
      </jqxButton>

      <span class="zoomValue" style="margin-left: 4px;">{{getZommText()}}</span>

      <span class="pagesSpan">{{'report_print_bar' | translate}}</span>

      <jqxButton
        #PrintButton
        [width]='"25px"'
        [height]='"27px"'
        style="float: left; margin-left: 4px;"
        (onClick)="Print($event)"
        [theme]='"metro"'
      >
        <i class="icon ion-ios-print" style="color: var(--first-color);"></i>
      </jqxButton>

      <jqxDropDownList
        #staffsDropDown
        [width]="220"
        [height]="25"
        [theme]='"bootstrap"'
        (onBindingComplete)="staffsBindingComplete($event)"
        (onSelect)="StaffsSelectDropDown($event)"
        [displayMember]="'fullName'"
        [valueMember]="'id'"
        ([scrollBarSize])="10"
        style="float: right; margin-right: 4px;"
        [placeHolder]="selectHolder"
        [source]="dataAdapterStaff"
      ></jqxDropDownList>

      <span style="float: right; margin-right: 4px;" class="pagesSpan">
        {{'report_staff_bar' | translate}}
      </span>

      <jqxDropDownList
        #periodsDropDown
        [width]="230"
        [height]="25"
        style="float: right; margin-right: 4px;"
        [theme]='"bootstrap"'
        (onBindingComplete)="periodsBindingComplete($event)"
        (onSelect)="PeriodsSelectDropDown($event)"
        [displayMember]="'dateJoin'"
        [valueMember]="'id'"
        ([scrollBarSize])="10"
        [placeHolder]="selectHolder"
        [source]="dataAdapterPeriod"
      ></jqxDropDownList>

      <span style="float: right; margin-right: 4px;" class="pagesSpan">
        {{'report_periods_bar' | translate}}
      </span>
    </div>
  </div>

  <div class="reportMainLeft">
    <reportmenu></reportmenu>
  </div>

  <div class="reportMainRight">
    <div
      *ngIf="report.pages.length==0"
      [ngClass]="'contentReport scrollable section'"
    >
      <div
        [ngClass]="layout=='portrait'? 'page pageA4Portrait ' + zoom() : 'page pageA4 ' + zoom()"
      >
        <p class="centerMiddle">
          {{'report_no_data_display' | translate}}
        </p>
      </div>
    </div>
    <div
      *ngIf="report.pages.length>0"
      id="vscrollable"
      [ngClass]="'contentReport scrollable section'"
    >
      <div
        id="page{i+1}"
        *ngFor="let p of report.pages; let i = index"
        [ngClass]="layout=='portrait'? 'page pageA4Portrait ' + zoom() : 'page pageA4 ' + zoom()"
      >
        <!-- <div *ngIf="p.title.length>0" class="titleReport">
          {{p.title}}
          </div> -->
        <div *ngIf="p.title.length>0" class="titleReport">
          {{p.title}}
          <br />
          <div class="subtitle">{{subtitleReport}}</div>
          <br />
          <div class="subtitle">{{subtitleReport2}}</div>
        </div>

        <div *ngIf="p.title.length>0" class="line"></div>
        <div *ngIf="p.groupLabels.length>0">
          <div *ngFor="let gl of p.groupLabels;let ix = index">
            <div [ngClass]="ix==0? 'boldGroup boldGroupFirst':'boldGroup'">
              {{gl }} : {{p.groupsValues[ix]}}
            </div>
          </div>
        </div>
        <table>
          <tr>
            <th *ngFor="let item of columns; let i = index">
              {{item}}
            </th>
          </tr>
          <tr *ngFor="let item of p.rows; let ci = index">
            <td
              [style.width.px]="columnsWidth[cn]"
              *ngFor="let c of item.cells; let cn = index"
            >
              <p>{{c.value}}</p>
            </td>
          </tr>
        </table>
      </div>
      <br />
      <br />
      <br />
    </div>
  </div>
</div>
